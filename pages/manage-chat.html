---
title: Manage Active Chats
---
<!DOCTYPE html>
<html ng-app="iService">
<head>
  {% include common-head.html %}
	<link href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.16/css/dataTables.bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css" rel="stylesheet" />
	<link href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.bootstrap.min.css" rel="stylesheet" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" rel="stylesheet" />
</head>
<body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper">
		{% include common-header.html %}
		{% include common-menu.html %}
		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
						{{ page.title }}
				</h1>
			</section>
			<!-- Main content -->
			<section class="content">
				<div class="row"> 
					<div class="col-md-4">
					<!-- Profile Image -->
						<div class="box box-primary">
							<div class="box-header with-border">
								<i class="fa  fa-list-ul"></i>
								<h3 class="box-title text-right">Topic List</h3>
							</div>
							<div class="box-body search-criteria">
								<div class="checkbox">
									<label class="mright-15"> <input type="checkbox" class="icheck"> Include Sub Topics </label> 
								</div>
								<div class="checkbox">
									<label class="mright-15"><input type="checkbox" class="icheck"> Show All Messages</label> 
								</div>
								<div class="row">
									<div class="col-md-12 chat-head">
										<div class="pull-right count-block">
											<span class="fa-stack stack-icon-label">
												<i class="fa fa-comment"></i>
												<i class="fa fa-arrow-circle-o-right text-green"></i> 
											</span>
										</div>
										<div class="pull-right count-block">
											<span class="fa-stack stack-icon-label">
												<i class="fa fa-comment"></i>
												<i class="fa fa-clock-o"></i> 
											</span>
										</div>
										<div class="pull-right count-block">
											<i class="fa fa-user"></i>
										</div>
									</div> 
								</div>	
								<div class="treeview">
									<ul id="tree1" class="tree">
										<li><a href="#"><span class="treeview-textwrap">e-shop -- All Topics</span> <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></a>
											<ul>
												<li><span class="treeview-textwrap">_Feedback</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">0</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li> 
												<li><span class="treeview-textwrap">_Newsletter Subscription</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
												<li><span class="treeview-textwrap">_Spam</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
												<li><span class="treeview-textwrap">_Undeliverable</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
												<li><span class="treeview-textwrap">Account Questions</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div>
													<ul>
														<li><span class="treeview-textwrap">Orders</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
														<li><span class="treeview-textwrap">Refunds</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
														<li class="selected"><span class="treeview-textwrap">Returns</span> (1) <input type="checkbox" class="minimal" checked><div class="pull-right count-block">2</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
													</ul>
												</li>
												<li><span class="treeview-textwrap">Products</span>(0)<input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div>
													<ul>
														<li><span class="treeview-textwrap">Audio-Video</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
														<li><span class="treeview-textwrap">Cameras</span> (2) <input type="checkbox" class="minimal" checked><div class="pull-right count-block">1</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
														<li><span class="treeview-textwrap">Cell Phones</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
														<li><span class="treeview-textwrap">Computers</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
														<li><span class="treeview-textwrap">Televisions</span>(0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
													</ul>
												</li>
												<li><span class="treeview-textwrap">Shipping</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
												<li><span class="treeview-textwrap">Technical Support</span> (0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
												<li><span class="treeview-textwrap">To Quote</span>(0) <input type="checkbox" class="minimal"><div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div>
													<ul>
														<li><span class="treeview-textwrap">Open Quotes</span> (1) <input type="checkbox" class="minimal"> <div class="pull-right count-block">--</div><div class="pull-right count-block text-red">--</div><div class="pull-right count-block text-aqua">1</div></li>
															</ul>
												</li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
					<!-- /.box-body -->
						</div>
					<!-- /.box -->
					</div>
					<div class="col-md-8 p-l-0">
						<div class="row" ng-controller="myCtrl">
							<div class="col-md-12">
								<div class="box box-primary">
									<div class="box-header with-border" ng-click="isCollapsedMassUpdate = !isCollapsedMassUpdate">
										<h3 class="box-title"> <i class="fa fa-fw fa-edit"></i> Mass Update</h3>
										<span aria-hidden="true" class="glyphicon pull-right glyphicon-chevron-right" ng-class="{'glyphicon-chevron-right__expanded': !isCollapsedMassUpdate}" ng-init="isCollapsedMassUpdate = true;"></span>
									</div> 
									<div class="box-body manage-message" uib-collapse="isCollapsedMassUpdate">
										<div class="col-md-12 bg-box box-bg-color">
											<div class="row">
												<div class="col-md-12 form-horizontal"> 
													<div class="col-md-12 form-action">
														<div class="form-group">
															<div class="btn-group dropdown margin-r-5">
																<button type="button" class="btn btn-primary"> <i class="fa fa-send"></i>
																Send</button>										 
																<div class="btn-group" uib-dropdown dropdown-append-to-body auto-close="outsideClick">
																	<button type="button" class="btn btn-primary" uib-dropdown-toggle>
																		<span class="caret"></span>
																	</button>
																	<ul class="dropdown-menu dropdown-menu-btn-option"  uib-dropdown-menu auto-close="outsideClick">
																		<li><input type="checkbox" class="margin-r-5"> Leave Open</li>
																		<li>
																			<a href="javascript:void(0)" class="text-primary" ng-click="shownotificationdropdown = !shownotificationdropdown"> Send Secure (Notification)..</a>
																			<div ng-show="shownotificationdropdown">
																				<select class="form-control">
																					<option>Select a notification</option>
																				</select>    
																			</div>    
																		</li>
																		<li><input type="checkbox" class="margin-r-5">Expect Custmer Reply</li>
																		<li><input type="checkbox" class="margin-r-5">Add Reference Number</li>
																	</ul>
																</div>
															</div>
															<button class="btn btn-primary" type="button">
																<i class="fa  fa-check"></i>
																Resolve
															</button>
															
															<div class="btn-group margin-r-5" uib-dropdown dropdown-append-to-body auto-close="outsideClick">
																<button type="button" class="btn btn-primary" uib-dropdown-toggle>
																	<i class="fa fa-mail-forward"></i>
																	Forward
																</button>
																<ul class="dropdown-menu dropdown-menu-btn-option dropdown-forward"  uib-dropdown-menu role="menu" aria-labelledby="btn-append-to-body" >
																	<li ng-class="{'option-selected' : selectAgent}"><a href="javascript:void(0)" class="text-primary" ng-click="selectAgent = !selectAgent;forwardSegment=false;forwardExternalSegment=false;"> Forward To Agent</a>
																		<div class="btn-list-options form-group" ng-show="selectAgent">
																			<div class="ng-cloak" ng-controller="AgentCtrl as ctrl">
																				<ui-select ng-model="ctrl.agent.selected" theme="selectize" ng-disabled="ctrl.disabled" style="width: 300px;" title="Choose a agent">
																					<ui-select-match placeholder="Select or search a agent in the list..." ng-bind="$select.selected.name"></ui-select-match>
																					<ui-select-choices repeat="agent in ctrl.agentname | filter: $select.search">
																					<span ng-bind-html="agent.name | highlight: $select.search"></span>
																					<small ng-bind-html="agent.code | highlight: $select.search"></small>
																					</ui-select-choices>
																				</ui-select>
																			</div>	  
																			<button class="btn btn-primary btn-xs">Assign To Agent</button>
																		</div>    
																	</li>
																	<li><a href="javascript:void(0)" class="text-primary"> Remove From My Queue</a></li>
																	<li ng-class="{'option-selected' : forwardSegment}">
																		<a href="javascript:void(0)" class="text-primary" ng-click="forwardSegment = !forwardSegment;selectAgent=false;forwardExternalSegment=false;"> Forward To Segment</a>
																		<div class="btn-list-options form-group" ng-show="forwardSegment" >
																				<div class="ng-cloak"  ng-controller="DemoCtrl as ctrl">
																					<ui-select ng-model="ctrl.segment.selected" theme="selectize" title="Choose a segment">
																						<ui-select-match placeholder="Select or search a segment in the list..." ng-bind="$select.selected.name"></ui-select-match>
																						<ui-select-choices group-by="'segmentname'" repeat="item in ctrl.segment | filter: $select.search">
																							<span ng-bind-html="item.name | highlight: $select.search"></span>
																						</ui-select-choices>
																					</ui-select>
																				</div>
																			<button class="btn btn-primary btn-xs">Forward Now</button> 
																		</div>   
																	</li>
																	<li ng-class="{'option-selected' : forwardExternalSegment}">
																		<a href="javascript:void(0)" class="text-primary" ng-click="forwardExternalSegment = !forwardExternalSegment;selectAgent=false;forwardSegment=false;"> Forward To External Segment</a>
																		<div class="btn-list-options form-group" ng-show="forwardExternalSegment">
																			<p>This segment has no external
																				agent notifications.</p>
																		</div>    
																	</li>
																</ul>
															</div>
											
															<div class="btn-group dropdown margin-r-5">
																	<button type="button" class="btn btn-primary"> <i class="fa fa-save"></i>
																	Save</button>										 
																	<div class="btn-group">
																		<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
																		<span class="caret"></span></button>
																		<ul class="dropdown-menu" role="menu">
																				<li><a href="#">Private Note</a></li>
																				<li><a href="#">Public Note</a></li>
																		</ul>
																	</div>
															</div>
															<div class="btn-group margin-r-5" uib-dropdown dropdown-append-to-body auto-close="outsideClick">
																<button class="btn btn-primary" title="Spam"  uib-dropdown-toggle>
																	<i class="fa  fa-arrows-alt"></i>
																	Change Topic
																</button>
																<ul class="dropdown-menu dropdown-menu-btn-option"  uib-dropdown-menu role="menu" aria-labelledby="btn-append-to-body">
																	<li>
																		<select class="changetopicselect form-control" multiple>
																			<option>e-shop -- All Topics(0)</option>
																			<option>.._Feedback (2)</option>
																			<option>.._Newsletter Subscription (0)</option>
																			<option>.._Spam (0)</option>
																			<option>.._Undeliverable (0)</option>
																			<option>..Account Questions (0)</option>
																			<option>....Orders (0)</option>
																			<option>....Refunds (0)</option>
																			<option>....Returns (0)</option>
																			<option>..Products(0)</option>
																			<option>....Audio-Video (0)</option>
																			<option>....Cameras (0)</option>
																			<option>....Cell Phones (0)</option>
																			<option>....Computers (0)</option>
																			<option>....Televisions(0)</option>
																			<option>..Shipping (0)</option>
																			<option>..Technical Support (0)</option>
																			<option>....Open Quotes (1)</option>
																		</select>
																	</li>
																</ul>
															</div>
															<button class="btn btn-primary" title="Spam">
																<i class="fa fa-ban"></i>
																Spam
															</button>
															<a class="btn btn-link" ng-click="cancel('getthis')">Cancel</a>
														</div>
														<div class="row">
															<!-- Custom Tabs -->
															<div class="nav-tabs-custom">
																<ul class="nav nav-tabs">
																	<li class="active"><a href="#tab_massupdate_1" data-toggle="tab"><i class="fa fa-fw fa-envelope-o"></i> <span>Email Addresses & Subject</span></a></li>
																	<li><a href="#tab_massupdate_3" data-toggle="tab"><i class="fa fa-fw fa-exchange"></i> <span>Interaction Properties</span></a> </li>
																	<li><a href="#tab_massupdate_4" data-toggle="tab"><i class="fa fa-fw fa-cubes"></i> <span>Variables & Stock Responses</span></a> </li>
																</ul>
																<div class="tab-content">
																	<!-- /.tab-pane -->
																	<div class="tab-pane active" id="tab_massupdate_1">
																		<div class="row">
																			<div class="col-md-8">
																				<div class="form-group">
																					<label class="col-sm-2 control-label text-left">From</label>
																					<div class="col-sm-10" ng-controller="FromEmail as ctrl"> 
																						<ui-select ng-model="ctrl.agent.selected" theme="selectize" ng-disabled="ctrl.disabled" style="width: 300px;" title="Choose a agent">
																							<ui-select-match placeholder="Select or search a agent in the list..." ng-bind="$select.selected.name"></ui-select-match>
																							<ui-select-choices repeat="agent in ctrl.agentname | filter: $select.search">
																							<span ng-bind-html="agent.name | highlight: $select.search"></span>
																							<small ng-bind-html="agent.code | highlight: $select.search"></small>
																							</ui-select-choices>
																						</ui-select>
																					</div>
																				</div>
																				<div class="form-group">
																					<label class="col-sm-2 control-label text-left">To</label>
																					<div class="col-sm-10">                              
																						<select class="form-control">
																							<option>Jacob.Smith@1to1Service.Com</option>
																						</select>    
																					</div>
																				</div>
																				<div class="cc-label">
																					<div class="col-md-2"></div>
																					<div class="col-md-10">
																						<a class="btn-link" ng-hide="showCC" ng-click="showCC = !showCC">Add CC</a> 
																						<a class="btn-link" ng-hide="showBCC" ng-click="showBCC = !showBCC">Add BCC</a>
																					</div>
																				</div>
											
																				<div class="form-group" ng-show="showCC">
																					<label class="col-sm-2 control-label text-left">CC</label>
																					<div class="col-sm-10">
																						<input class="form-control" type="text" >
																					</div>
																				</div>
																				<div class="form-group" ng-show="showBCC">
																					<label class="col-sm-2 control-label text-left">BCC</label>
																					<div class="col-sm-10">
																						<input class="form-control" type="text" >
																					</div>
																				</div>
																				<div class="form-group">
																					<label class="col-sm-2 control-label text-left">Subject</label>
																					<div class="col-sm-4">
																						<input class="form-control" type="text" value="Ref#: 123456789-123456789"  disabled>
																					</div>
																					<div class="col-sm-6">
																						<input class="form-control" type="text" value="looking for low cost tv">
																					</div>
																				</div>
																			</div>
																			<div class="col-md-4">
																				<div class="form-group">
																					<div class="col-md-12">
																						<div class="drop-box">Drop files here or click to upload
																						</div>
																						<p> (Maximum 10 MB upload at one time.)</p>
																						<div class="imageuploadify">
																								<div class="imageuploadify-details">
																									<button class="icon-button button-delete" type="button">
																										<i class="fa fa-times-circle"></i>
																									</button>
																									<span>Invoice 1456549.pdf(20 KB)</span>
																								</div>
																								<div class="imageuploadify-details">
																									<button class="icon-button button-delete" type="button">
																										<i class="fa fa-times-circle"></i>
																									</button>
																									<span>order_details_45875034.pdf(30 KB)</span>
																								</div>
																								<div class="imageuploadify-details">
																									<button class="icon-button button-delete" type="button">
																										<i class="fa fa-times-circle"></i>
																									</button>
																									<span>product_image-full-size-58476098.jpg(120 KB)</span>
																								</div>   
																							</div>
																					</div>    
																				</div> 
																			</div>    
																		</div>    
																	</div>
																	<!-- /.tab-pane -->
																	<div class="tab-pane" id="tab_massupdate_3">
																		<div class="row form-horizontal">
																			<div class="col-md-12">
																				<div class="col-md-12">
																					<div class="form-group"> 
																						<label class="control-label">
																							<input type="checkbox"> Add properties to all answers regardless of topic
																						</label>
																					</div>
																				</div>	
																			</div>
																			<div class="col-md-6">
																				<div class="form-group"> 
																					<label class="col-md-12 control-label text-left">Priority</label>
																					<div class="col-sm-12">
																						<select class="form-control">
																							<option>High</option>
																							<option>Low</option>
																						</select>    
																					</div>
																				</div>
																			</div>		
																			<div class="col-md-6">
																				<div class="form-group"> 
																					<label class="col-md-12 control-label text-left">Owner</label>
																					<div class="col-sm-12">
																						<select class="form-control">
																							<option>Owner List</option>
																						</select>    
																					</div>
																				</div>
																			</div>
																			<div class="col-md-6">	
																				<div class="form-group">    
																					<label class="col-md-12 control-label text-left">isOpen</label>
																					<div class="col-sm-12">
																						<select class="form-control">
																								<option value="True">True</option>
																								<option value="False">False</option>
																						</select>    
																					</div>
																				</div>
																			</div>		
																		</div>	
																	</div>
											
																	<div class="tab-pane" id="tab_massupdate_4">
																		<div class="row">
																			<div class="col-md-5">   
																				<div class="btn-group pull-left" data-toggle="btn-toggle">
																					<a class="btn btn-default btn-sm" data-toggle="on" href="javascript:void(0)" ng-class="{true: 'active btn-primary'}[customform]" ng-click="customForm();" ng-init="customform =true;">Variables</a>
																					<a class="btn btn-default btn-sm" data-toggle="off" href="javascript:void(0)" ng-class="{false: 'active btn-primary'}[customform]" ng-click="builtinForm();">Stock Responses</a>
																				</div>
																			</div>   
																			<div class="col-md-7  pull-right"  ng-show="customform">
																				<div class="form-group">
																					<label for="filtervariable" class="col-md-5 control-label text-right">Filter Variables</label>
																					<div class="col-md-7">
																						<input type="text" id="filtervariable" class="form-control">
																					</div>
																				</div>
																			</div>
																			<div class="col-md-7 pull-right"  ng-hide="customform">
																				<div class="form-group">
																					<label for="filterstockresponses" class="col-md-5 control-label text-right">Filter Stock Responses</label>
																					<div class="col-md-7">
																						<input type="text" id="filterstockresponses" class="form-control">
																					</div>
																				</div>
																			</div>
																			<div class="col-xs-12 variable-responses" ng-show="customform">
																				<div class="option-list custom-scroll">
																					<ul class="list-unstyled segment-variable-list">
																						<li class="section-label">Contact
																						<ul class="segment-variables">
																							<li class="section-var-link">Name</li>
																							<li class="segment-lable">Global
																								<ul>
																								<li class="section-var-link">Address1</li>
																								<li class="section-var-link">Address2</li>
																								<li class="section-var-link">City</li>
																								<li class="section-var-link">Country</li>
																								<li class="section-var-link">Company</li>
																								</ul>
																							</li>
																							<li class="segment-lable">JC Segment
																								<ul>
																								<li class="section-var-link">Contact View Only Property</li>
																								<li class="section-var-link">Contact Viewable and Editable Property</li>
																								<li class="section-var-link">Multi value No Descr</li>
																								<li class="section-var-link">Shared Property from JC - cust can't see</li>
																								</ul>
																							</li>
																						</ul>
																						</li>
																					</ul>
																					<ul class="list-unstyled segment-variable-list">
																						<li class="section-label">Answer
																							<ul class="segment-variables">
																								<li class="section-var-link">Email</li>
																								<li class="section-var-link">Reference Number</li>
																								<li class="section-var-link">Original Date</li>
																								<li class="section-var-link">Original Time</li>
																								<li class="section-var-link">Subject</li>
																								<li class="section-var-link">Original Body</li>
																								<li class="section-var-link">Quoted Question</li>
																							</ul>
																						</li>
																					</ul>
																				</div>    
																			</div>
																			<div class="col-xs-12 variable-responses" ng-hide="customform">
																				<div class="option-list custom-scroll">
																					<ul class="list-unstyled segment-variable-list">
																							<li class="section-label">Segment Responses
																							<ul class="segment-variables">
																								<li class="section-var-link">Chat Closing</li>
																								<li class="section-var-link">Chat Opening</li>
																								<li class="section-var-link">Chat Wait</li>
																								<li class="section-var-link">iService Website</li>
																							</ul>
																							</li>
																						</ul>
																						<ul class="list-unstyled segment-variable-list">
																							<li class="section-label">Agent Response
																								<ul class="segment-variables">
																									<li class="section-var-link">Test</li>
																								</ul>
																							</li>
																						</ul>
																					
																					</div>    
																			</div>
																		</div>
																	</div>
																</div>    
																<!-- /.tab-content -->
															</div>
															<!-- nav-tabs-custom -->  
														</div>
													</div>    
												</div> 
												
												<div class="col-md-12"> 
													<div class="nav-tabs-custom">
														<ul class="nav nav-tabs">
															<li class="active"><a href="#draftbodymassupdate" data-toggle="tab" aria-expanded="true">Draft Body</a></li>
															<li><a href="#plainhtmlmassupdate" data-toggle="tab" aria-expanded="false">Preview<br></a></li>
														</ul>
														<div class="tab-content">
															<div class="tab-pane active" id="draftbodymassupdate">
																<div class="form-group text-editor-container">
																	<textarea class="form-control" rows="10" placeholder="" id="editormassupdate" ckeditor ><p>Hello,</p>
											
																		<p>I&#39;m looking for s small TV for our bedroom, but don&#39;t want to spend more than $100. Do you have any option for me to consider?</p>
																		
																		<p>Regards,</p>
																		
																		<p>John Doe</p>
																	</textarea>
																</div>
															</div>
															<div class="tab-pane" id="plainhtmlmassupdate">
																<p>Hello,</p>
											
																<p>I&#39;m looking for s small TV for our bedroom, but don&#39;t want to spend more than $100. Do you have any option for me to consider?</p>
																
																<p>Regards,</p>
																
																<p>John Doe</p>
															</div>										   
														</div>
													</div>
													<div class="row">
														<div class="col-sm-12">
															<div class="panel panel-default form-group">
																<div class="panel-heading">
																<i class="fa fa-fw fa-pencil-square-o"></i>
																	Private Comments
																</div>
																<div class="panel-body">
																	<textarea class="full-width full-height"></textarea>
																</div>
															</div>	
														</div>
													</div>    
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>		
							<div class="col-md-12">
								<div class="box box-info">
									<div class="box-header with-border">
										<i class="fa fa-comments"></i>
										<h3 class="box-title head-title-padding">Active Chat</h3>
									</div>
								<!-- /.box-header -->
								<!-- form start -->
									<div class="box-body table-responsive">
										<table id="example1" class="table  table-striped table-hover">
											<thead>
												<tr>
													<th class="no-sort"  name="name">&nbsp;
													</th>
													<th class="text-capitalize">
														Subject 
													</th>
													<th class="text-capitalize">
														Visitors Name
													</th>
													<th class="text-capitalize">
														Operator
													</th>
													<th class="text-capitalize">
														Time In Chat
													</th>
													<th class="text-capitalize">
														Wait Time
													</th>
													<th class="text-capitalize">
														Topic
													</th>
												</tr>
											</thead>  
											<tbody>
												<tr id="row1">
													<td name="name">
														<button class="btn btn-xs btn-link text-default btn-expand"  ng-click="toggleRow('row1')">
															<i class="fa fa-plus-circle" ng-show="!row1"></i>
															<i class="fa fa-minus-circle ng-hide" ng-show="row1" ng-cloak></i>
														</button>
													</td>
													<td>
														I need a good small camera
													</td>
													<td>
														James Williams
													</td>
													<td>
														Jonie Hewlett
													</td>
													<td>
														01.42
													</td>
													<td>
														00.42
													</td>
													<td>
														Cameras
													</td>
												</tr>
												<tr id="row2">
													<td name="name">
														<button class="btn btn-xs btn-link text-default btn-expand"  ng-click="toggleRow('row2')">
															<i class="fa fa-plus-circle" ng-show="!row2"></i>
															<i class="fa fa-minus-circle ng-hide" ng-show="row2" ng-cloak></i>
														</button>
													</td>
													<td>
														Can't find it
													</td>
													<td>
														Julie Persuavia
													</td>
													<td>
														Robert Williams
													</td>
													<td>
														01.33
													</td>
													<td>
														01.00
													</td>
													<td>
														Return
													</td>
												</tr>
												<tr id="row3">
													<td name="name">
														<button class="btn btn-xs btn-link text-default btn-expand"  ng-click="toggleRow('row3')">
															<i class="fa fa-plus-circle" ng-show="!row3"></i>
															<i class="fa fa-minus-circle ng-hide" ng-show="row3" ng-cloak></i>
														</button>
													</td>
													<td>
														Best price on LG Plasma
													</td>
													<td>
														John Doe
													</td>
													<td>
														Jacob Smith
													</td>
													<td>
														00.22
													</td>
													<td>
															00.10
													</td>
													<td>
														Return
													</td>
												</tr>
											</tbody>
										</table>
									</div>
						  	</div> 
							</div>														
						</div>
					</div>		
				</div> 
			</section>
		</div>

		<!--expanded row content start-->
		<div id="expandedrow" style="display:none;">
			<div class="col-md-12 col-sm-12">
				<div class="box box-warning">
					<div class="box-header with-border actions">
						<h3 class="box-title">
							<i class="fa fa-fw fa-reply"></i>
							Chat Dialog
						</h3>
						<div class="pull-right">
							<button class="btn btn-xs btn-danger ng-scope hidden-xs hidden-sm" ng-class="small? 'btn-block': 'hidden-xs hidden-sm'" ng-click="endChat(chat)" ng-disabled="chat.chatEndRunning()">
								<i class="fa fa-fw fa-close" ng-hide="chat.chatEndRunning()"></i>
								<i class="fa fa-spinner fa-spin fa-fw ng-hide"></i>
								End
							</button>
							<div class="btn-group btn-xs dropdown" uib-dropdown="" is-open="status.isopen">
								<button id="single-button" type="button" class="btn btn-primary btn-xs dropdown-toggle" uib-dropdown-toggle="" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false">
									<i class="fa fa-fw fa-mail-forward"></i>
									Forward <span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu="" role="menu" aria-labelledby="single-button">
									<li role="menuitem"><a href="#">Remove From My Queue</a></li>
									<li role="menuitem"><a href="#">Assign To Agent…</a>
										<div class="bg-info text-muted text-center">
										<i>No agents available</i>
										</div>
									</li>
								</ul>
							</div>
							<div class="btn-group  hidden-xs hidden-sm dropdown" uib-dropdown="" auto-close="outsideClick">
								<button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
								<i class="fa fa-fw fa-arrows"></i>
									Change Topic <span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu="" r role="menu" aria-labelledby="single-button">
									<li role="menuitem">
										<div class="input-group input-group-sm search-control">
											<input type="text" class="form-control" placeholder="Query" ng-model="query">
										</div>
									</li>
									<li role="presentation" ng-repeat="item in items | filter:query"> 
										<div class="ui-select-choices-group-label dropdown-header">Segment1</div>
										<div  class="ui-select-choices-row ng-scope active" role="option" id="ui-select-choices-row-0-0">
												<span class="ui-select-choices-row-inner" uis-transclude-append="">
												<span class="ng-binding ng-scope" title="All Topics">Segment1 -- All Topics</span>
											</span>
										</div>
									</li>
								</ul>
									
							</div>
						</div>														  
					</div>  
					<div class="box-body">
						<div class="direct-chat-messages chat-box chat">
							<dl>
								<dt>Subject</dt>
								<dd>[ref#: 26197-26197] Need to return a camera</dd>
								<dt>Question</dt>
								<dd>Need to return a camera</dd>
							</dl>
							<div class="direct-chat-msg ng-scope left" ng-repeat="line in chat.chatData.chatLines" ng-class="{ left: !line.isAgent }">
								<div class="direct-chat-info clearfix">
									<span class="direct-chat-name ng-binding pull-left" ng-class="line.isAgent? 'pull-right': 'pull-left'">John Doe</span>
								</div>
								<div class="user-initials round no-select pull-left" ng-class="line.isAgent? 'pull-right': 'pull-left'" iservice-name-initials="line.name" style="background-color: rgb(5, 160, 90);">JD</div>
								<div class="clearfix">
									<span class="direct-chat-text ng-binding pull-left" ng-class="line.isAgent? 'pull-right': 'pull-left'" ng-bind-html="line.messageHtml"><span>Need to return a camera</span></span>
								</div>
								<span class="direct-chat-timestamp pull-left" ng-class="line.isAgent? 'pull-right': 'pull-left'" am-time-ago="line.date">11 minutes ago</span>
							</div>
							<!-- Message to the right -->
							<div class="direct-chat-msg right">
								<div class="direct-chat-info clearfix">
									<span class="direct-chat-name pull-right">Jonie Hewlett</span>
									<span class="direct-chat-timestamp pull-left">23 Jan 2:05 pm</span>
								</div>
								<!-- /.direct-chat-info -->
								<div class="user-initials round no-select pull-right" style="background-color: rgb(73, 60, 96);">JH</div>
								<!-- /.direct-chat-img -->
								<div class="direct-chat-text">
									Hello James, how may I help you ?
								</div>
								<!-- /.direct-chat-text -->
							</div>
							<!-- /.direct-chat-msg -->
						<!-- Message. Default to the left -->
							<div class="direct-chat-msg">
								<div class="direct-chat-info clearfix">
									<span class="direct-chat-name pull-left">James Williams</span>
									<span class="direct-chat-timestamp pull-right">23 Jan 2:47 pm</span>
								</div>
								<!-- /.direct-chat-info -->
								<div class="user-initials round no-select pull-left" style="background-color: rgb(61, 185, 117);">JW</div>
								<!-- /.direct-chat-img -->
								<div class="direct-chat-text">
									The camera i just received has a cracked lence and i need to return it for replacement.
								</div>
								<!-- /.direct-chat-text -->
							</div>
							<!-- /.direct-chat-msg -->
							<!-- Message to the right -->
							<div class="direct-chat-msg right">
								<div class="direct-chat-info clearfix">
									<span class="direct-chat-name pull-right">Jonie Hewlett</span>
									<span class="direct-chat-timestamp pull-left">23 Jan 2:48 pm</span>
								</div>
									<!-- /.direct-chat-info -->
								<div class="user-initials round no-select pull-right" style="background-color: rgb(73, 60, 96);">JH</div>
									<!-- /.direct-chat-img -->
								<div class="direct-chat-text">
									We will provide the pickup for same.
								</div>
								<!-- /.direct-chat-text -->
							</div>
							<!-- /.direct-chat-msg -->
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--expanded row content end-->	
		<!-- /.content-wrapper -->
		{% include common-footer.html %}
		<!-- Control Sidebar -->
		<aside class="control-sidebar control-sidebar-dark">
			<!-- Create the tabs -->
			<ul class="nav nav-tabs nav-justified control-sidebar-tabs">
				<li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
				<li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
			</ul>
			<!-- Tab panes -->
			<div class="tab-content">
				<!-- Home tab content -->
				<div class="tab-pane" id="control-sidebar-home-tab">
					<h3 class="control-sidebar-heading">Recent Activity</h3>
					<ul class="control-sidebar-menu">
						<li>
							<a href="javascript:void(0)">
								<i class="menu-icon fa fa-birthday-cake bg-red"></i>
								<div class="menu-info">
									<h4 class="control-sidebar-subheading">Langdon's Birthday</h4>
									<p>Will be 23 on April 24th</p>
								</div>
							</a>
						</li>
						<li>
							<a href="javascript:void(0)">
								<i class="menu-icon fa fa-user bg-yellow"></i>
								<div class="menu-info">
									<h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>
									<p>New phone +1(800)555-1234</p>
								</div>
							</a>
						</li>
						<li>
							<a href="javascript:void(0)">
								<i class="menu-icon fa fa-envelope-o bg-light-blue"></i>
								<div class="menu-info">
									<h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>
									<p>nora@example.com</p>
								</div>
							</a>
						</li>
						<li>
							<a href="javascript:void(0)">
								<i class="menu-icon fa fa-file-code-o bg-green"></i>
								<div class="menu-info">
									<h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>
									<p>Execution time 5 seconds</p>
								</div>
							</a>
						</li>
					</ul>
					<!-- /.control-sidebar-menu -->
					<h3 class="control-sidebar-heading">Tasks Progress</h3>
					<ul class="control-sidebar-menu">
						<li>
							<a href="javascript:void(0)">
								<h4 class="control-sidebar-subheading">
									Custom Template Design
									<span class="label label-danger pull-right">70%</span>
								</h4>
								<div class="progress progress-xxs">
									<div class="progress-bar progress-bar-danger" style="width: 70%"></div>
								</div>
							</a>
						</li>
						<li>
							<a href="javascript:void(0)">
								<h4 class="control-sidebar-subheading">
									Update Resume
									<span class="label label-success pull-right">95%</span>
								</h4>
								<div class="progress progress-xxs">
									<div class="progress-bar progress-bar-success" style="width: 95%"></div>
								</div>
							</a>
						</li>
						<li>
							<a href="javascript:void(0)">
								<h4 class="control-sidebar-subheading">
									Laravel Integration
									<span class="label label-warning pull-right">50%</span>
								</h4>
								<div class="progress progress-xxs">
									<div class="progress-bar progress-bar-warning" style="width: 50%"></div>
								</div>
							</a>
						</li>
						<li>
							<a href="javascript:void(0)">
								<h4 class="control-sidebar-subheading">
									Back End Framework
									<span class="label label-primary pull-right">68%</span>
								</h4>
								<div class="progress progress-xxs">
									<div class="progress-bar progress-bar-primary" style="width: 68%"></div>
								</div>
							</a>
						</li>
					</ul>
					<!-- /.control-sidebar-menu -->
				</div>
				<!-- /.tab-pane -->
				<!-- Stats tab content -->
				<div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
				<!-- /.tab-pane -->
				<!-- Settings tab content -->
				<div class="tab-pane" id="control-sidebar-settings-tab">
					<form method="post">
						<h3 class="control-sidebar-heading">General Settings</h3>
						<div class="form-group">
							<label class="control-sidebar-subheading">
								Report panel usage
								<input type="checkbox" class="pull-right" checked>
							</label>
							<p>
								Some information about this general settings option
							</p>
						</div>
						<!-- /.form-group -->
						<div class="form-group">
							<label class="control-sidebar-subheading">
								Allow mail redirect
								<input type="checkbox" class="pull-right" checked>
							</label>
							<p>
								Other sets of options are available
							</p>
						</div>
						<!-- /.form-group -->
						<div class="form-group">
							<label class="control-sidebar-subheading">
								Expose author name in posts
								<input type="checkbox" class="pull-right" checked>
							</label>
							<p>
								Allow the user to show his name in blog posts
							</p>
						</div>
						<!-- /.form-group -->
						<h3 class="control-sidebar-heading">Chat Settings</h3>
						<div class="form-group">
							<label class="control-sidebar-subheading">
								Show me as online
								<input type="checkbox" class="pull-right" checked>
							</label>
						</div>
						<!-- /.form-group -->
						<div class="form-group">
							<label class="control-sidebar-subheading">
								Turn off notifications
								<input type="checkbox" class="pull-right">
							</label>
						</div>
						<!-- /.form-group -->
						<div class="form-group">
							<label class="control-sidebar-subheading">
								Delete chat history
								<a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
							</label>
						</div>
						<!-- /.form-group -->
					</form>
				</div>
				<!-- /.tab-pane -->
			</div>
		</aside>
		<!-- /.control-sidebar -->
		<!-- Add the sidebar's background. This div must be placed
					immediately after the control sidebar -->
		<div class="control-sidebar-bg"></div>
  </div>
    <!-- ./wrapper -->
  {% include common-javascript.html %}
   
    <script src="../../plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="../../plugins/datatables/dataTables.bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.bootstrap.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.colVis.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
	<script>
		$(document).ready(function() {
			// DataTable
			var table = $('#example1').DataTable( {
				"language" : {
				"search": "Filter"
				},
				dom: 'Blfrtip',
					"order": [],
			buttons: ['colvis' ],
			"columnDefs": [ {
				"targets"  : 'no-sort',
				"orderable": false,
			}]
		});
	
		$('.selectpicker').selectpicker('refresh');

		$.fn.extend({
			treed: function (o) {
				
				var openedClass = 'glyphicon-minus-sign';
				var closedClass = 'glyphicon-plus-sign';
				
				if (typeof o != 'undefined'){
				if (typeof o.openedClass != 'undefined'){
				openedClass = o.openedClass;
				}
				if (typeof o.closedClass != 'undefined'){
				closedClass = o.closedClass;
				}
				};
				
				//initialize each of the top levels
				var tree = $(this);
				tree.addClass("tree");
				tree.find('li').has("ul").each(function () {
					var branch = $(this); //li with children ul
					branch.prepend("<i class='indicator glyphicon " + closedClass + "'></i>");
					branch.addClass('branch');
					branch.on('click', function (e) {
						if (this == e.target) {
							var icon = $(this).children('i:first');
							icon.toggleClass(openedClass + " " + closedClass);
							$(this).children().children().toggle();
						}
					})
					branch.children().children().toggle();
				});
				//fire event from the dynamically added icon
				tree.find('.branch .indicator').each(function(){
				$(this).on('click', function () {
					$(this).closest('li').click();
				});
				});
				//fire event to open branch if the li contains an anchor instead of text
				tree.find('.branch>a').each(function () {
					$(this).on('click', function (e) {
						$(this).closest('li').click();
						e.preventDefault();
					});
				});
				//fire event to open branch if the li contains a button instead of text
				tree.find('.branch>button').each(function () {
					$(this).on('click', function (e) {
						$(this).closest('li').click();
						e.preventDefault();
					});
				});
			}
		});
			$('#tree1').treed();	
		$('#tree1 .branch').each(function(){
			var icon = $(this).children('i:first');
			icon.toggleClass('glyphicon-minus-sign glyphicon-plus-sign');
			$(this).children().children().toggle();
		});	
		
		$(function ()
		{
			// SLIMSCROLL FOR CHAT WIDGET
				$('#variable-box').slimScroll({
				height: '250px'
				});
				$('#stock-responses').slimScroll({
				height: '250px'
				});
				CKEDITOR.replace('editor1',
				{
					height: 300
				});
			
				//iCheck for checkbox and radio inputs
				$('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({
				checkboxClass: 'icheckbox_minimal-blue blue2',
				radioClass: 'iradio_minimal-blue'
				});
				$('input[type="checkbox"].icheck').iCheck({
				checkboxClass: 'icheckbox_square-blue'
				});
		});
		
	});	  
	</script>
	<script>
		angular.module('iService').controller('myCtrl', function ($scope, $log, $compile, DTOptionsBuilder, DTColumnDefBuilder)
           {
			$scope.toggleRow = function (segmentName)
			{ 
				for(var i = 1; i<=5;i++){
					if(!$scope[segmentName]){
						removeFunction(segmentName);
						$scope['row'+i] = false;
					}	
				}
				$scope[segmentName] = !$scope[segmentName];
				if($scope[segmentName]){
					myCreateFunction(segmentName);
				}else{
					removeFunction(segmentName);
				}

				$scope.items = [{
					'name': 'Item 1'
					}, {
					'name': 'Item 2'
					}, {
					'name': 'Account 3'
					}, {
					'name': 'Account 4'
					}, {
					'name': 'Item 5'
					}, {
					'name': 'Item 6'
					}, {
					'name': 'User 7'
					}, {
					'name': 'User 8'
					}];
			};

			function myCreateFunction(row) {
				var innerHTML = document.getElementById('expandedrow').innerHTML;
				angular.element('#'+row).after($compile('<tr class="expandedrowcontent"><td>&nbsp;</td><td colspan="6">'+document.getElementById('expandedrow').innerHTML+'</td></tr>')($scope));
			}

			function removeFunction(row){
				angular.element('.expandedrowcontent').remove();
			}

			$scope.show = function(action) {
				$scope.hidetrue = true;
				$scope[action] = !$scope[action];
			};

			$scope.cancel = function(action) {
				$scope.hidetrue = false;
				$scope[action] = !$scope[action];
			};	

			
          
			
			$scope.toggleDropdown = function($event) {
				$event.preventDefault();
				$event.stopPropagation();
				$scope.status.isopen = !$scope.status.isopen;
			};

			$scope.appendToEl = angular.element(document.querySelector('#dropdown-long-content'));
            
			$scope.customForm = function(){
				$scope.customform = true;
			}
			$scope.builtinForm = function(){
				$scope.customform = false;
			}
			$scope.showIncomingList = function(){
				$scope.incomingList = true;
				removeFunction('');
			}
			$scope.showPraposedList = function(){
				$scope.incomingList = false;
				removeFunction('');
			}
		});	 

		angular.module('iService').controller('AgentCtrl', function ($scope, $http, $timeout, $interval) {
			var vm = this;
			vm.agent = {};
			vm.agentname = [ 
				{name: 'Alek Packard', code: 'AP'},
				{name: 'Jacob Smith', code: 'JS'},
				{name: 'Jonie Hewlett', code: 'JH'},
				{name: 'Justin Time', code: 'JT'},
			];
		});

		app.filter('propsFilter', function() {
			return function(items, props) {
				var out = [];

				if (angular.isArray(items)) {
				var keys = Object.keys(props);

				items.forEach(function(item) {
					var itemMatches = false;

					for (var i = 0; i < keys.length; i++) {
					var prop = keys[i];
					var text = props[prop].toLowerCase();
					if (item[prop].toString().toLowerCase().indexOf(text) !== -1) {
						itemMatches = true;
						break;
					}
					}

					if (itemMatches) {
					out.push(item);
					}
				});
				} else {
				// Let the output be the input untouched
				out = items;
				}

				return out;
			};
		});

		app.controller('DemoCtrl', function ($scope, $http, $timeout, $interval) {
			var vm = this;
			vm.segmentObj = {
				'1' : { name: '-Default Mail Box-', segmentname: 'QA' },
				'2' : { name: 'Push Bullet', segmentname: 'QA' },
				'3' : { name: '-Default Mail Box-', segmentname: 'QA2- Second Segment' },
				'4' : { name: 'Push Bullet', segmentname: 'QA2- Second Segment' },
			};

			vm.segment = [
				{ name: '-Default Mail Box-', segmentname: 'QA' },
				{ name: 'Push Bullet', segmentname: 'QA' },
				{ name: '-Default Mail Box-', segmentname: 'QA2- Second Segment' },
				{ name: 'Push Bullet',  segmentname: 'QA2- Second Segment' },
			];
		});
		angular.module('iService').controller('agentEmailCtrl', function ($scope, $http, $timeout, $interval) {
			var vm = this;
			vm.agent = {};
			vm.agentname = [ 
				{name: 'Alek Packard', code: 'AP'},
				{name: 'Jacob Smith', code: 'JS'},
				{name: 'Jonie Hewlett', code: 'JH'},
				{name: 'Justin Time', code: 'JT'},
			];
		});
        angular.module('iService').controller('FromEmail', function ($scope, $http, $timeout, $interval) {
			var vm = this;
			vm.agent = {};
			vm.agentname = [ 
				{name: 'Alek Packard (alek.packard@example.com)', code: 'AP'},
				{name: 'Jacob Smith (jacob.smith@example.com)', code: 'JS'},
				{name: 'Jonie Hewlett (jonie.hewlett@example.com)', code: 'JH'},
				{name: 'Justin Time (justin.time@example.com)', code: 'JT'},
			];
		});

		
	</script>
</body>
</html>
